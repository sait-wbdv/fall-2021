<!DOCTYPE html>
<html>
<head>
  <title></title>
  <!-- Normalize -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css.map">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  <!-- Prism theme -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-one-dark@1.0.0/prism-onedark.css">

  <!-- Website Styles -->
  <link rel="stylesheet" href="/fall-2021/assets/css/reset.css">
  <link rel="stylesheet" href="/fall-2021/assets/css/utilities.css">
  <link rel="stylesheet" href="/fall-2021/assets/css/fonts.css">
  <link rel="stylesheet" href="/fall-2021/assets/fonts/raleway-light_open-sans-light.css">
  <link rel="stylesheet" href="/fall-2021/assets/css/main.css">
  
  <!-- favicon -->
  <link rel="icon" href="/assets/images/SAIT_favicon.ico">
</head>
<body>
<div class="wrapper">
  <header class="page-header">
    <a href="/fall-2021/"><img class="sait-logo" src=/fall-2021/assets/images/sait-logo.png alt="SAIT Logo"></a>
    <div>
      <p class="site-name">SAIT Web Developer</p>
      <p class="tagline">Fast Track - Fall 2021</p>
    </div>
    <nav class="primary">
      <ul>
        <li><a href="/fall-2021/schedule">Schedule</a></li>
        <li><a href="/fall-2021/assignments">Assignments</a></li>
        <li><a href="/fall-2021/library">Library</a></li>
        <li><a href="
https://sait-ca.zoom.us/j/86237827440">Zoom</a></li>
      </ul>
    </nav>
  </header>
  <main>
    
<nav class="secondary">
    <ul>
        <li>
            
            <a href="/fall-2021/courses/cpnt262/day17/" title="CPNT 262 Day 17 - JSON 404 errors and local modules">Previous</a>
            
        </li>
        <li>
            
            <a href="/fall-2021/courses/cpnt262/day19/" title="CPNT 262 Day 19 - Mongoose and MongoDB Atlas">Next</a>
            
        </li>
    </ul>
</nav>


<article class="post">
  <time>Wed, November 3</time>
  <h2>CPNT 262 Day 18 - Query params and .filter()</h2>
  
  
        <h2>Housekeeping</h2>
<ul>
<li>Announced after lunch:
<ul>
<li>Group assignments for Final Project</li>
<li>Draft of Assignment 6 and Group Project announced</li>
</ul>
</li>
<li>Tooltime:
<ul>
<li>Experiment: starter code in <code>in-class</code></li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork">Syncing a Fork</a></li>
</ul>
</li>
</ul>
<h2>Trophy of the day</h2>
<ul>
<li>A randy module: Build an express module that returns a random item from a List Entry endpoint.</li>
<li>A filter that returns a list of poisoned guild members</li>
</ul>
<hr>
<h2>1. Spoiler demo: Random array items</h2>
<ul>
<li>Create a local module that accepts any array as an argument and returns a random item from that array. See: <a href="https://gist.github.com/acidtone/2a3cac26a229aa95685e5cf6344f2e4e">Find a random item in an Array</a></li>
</ul>
<hr>
<h2>2. Query params</h2>
<h3>Materials</h3>
<ul>
<li><a href="https://stackabuse.com/get-query-strings-and-parameters-in-express-js/">Get Query Strings and Parameters in Express.js - Stack Abuse</a></li>
<li>Gist: <a href="https://gist.github.com/acidtone/1916673f27a1e1668c0a5855ea6f7cf4">Handling URL query parameters</a></li>
<li><a href="https://gist.github.com/acidtone/55f3c53bab36a7a9f9927a96a2556025">REST APIs: Getting Started</a></li>
</ul>
<h3>Key Takeaways</h3>
<ul>
<li>The <code>request</code> object stores parameters in three main objects:
<ol>
<li><code>req.params</code>: Parameters passed as route segments.
<ul>
<li>Example: <code>GET /api/animals/:id</code>.</li>
</ul>
</li>
<li><code>req.query</code>: Parameters passed after the <code>?</code> in a URL.
<ul>
<li>Example: <code>/api/animals?page=3&amp;per_page=10</code>.</li>
</ul>
</li>
<li><code>req.body</code>: Parameters passed in the request body, such as when a form is submitted with <code>method=&quot;POST&quot;</code>.</li>
</ol>
</li>
<li>Query parameters are not included in the path when being matched by <code>app.get()</code> and the other method handlers.</li>
<li>In REST APIs, query parameters are most used for:
<ul>
<li>filtering</li>
<li>sorting</li>
<li>pagination</li>
<li>search</li>
</ul>
</li>
<li>Query params are usually applied to a List Entry endpoint, even if only one item is returned.</li>
</ul>
<h3>Demo: Random guild member endpoint</h3>
<p>Find a random guild member using this sample code:<a href="https://gist.github.com/acidtone/2a3cac26a229aa95685e5cf6344f2e4e">Find a random item in an Array</a></p>
<ul>
<li>Starter Code
<ul>
<li><a href="https://github.com/sait-wbdv/in-class/tree/main/cpnt262/11-03-query-params-filter/01-starter-random-array-item">Random array item</a></li>
<li><a href="https://github.com/sait-wbdv/in-class/tree/main/cpnt262/11-03-query-params-filter/02-starter-guild-routes">Guild routes</a></li>
</ul>
</li>
</ul>
<h3>Activity</h3>
<p>Build your own local module that returns a random item in an array and apply it to your own List Entry route (i.e. from Assignment 5).</p>
<hr>
<h2>3. Filtering arrays with <code>Array.filter()</code></h2>
<h3>Materials</h3>
<ul>
<li>MDN: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array.prototype.filter()</code></a></li>
<li><a href="https://masteringjs.io/tutorials/fundamentals/filter-array-of-objects">Filter an Array of Objects in JavaScript</a></li>
</ul>
<h3>Key Takeaways</h3>
<ul>
<li><code>Array.filter()</code> loops through an array of objects, expects a Boolean return value and it creates a new empty array that will be returned at the end of the loop:
<ul>
<li>If <code>true</code> is returned, the current item is added to the new array;</li>
<li>If <code>false</code> is returned, the loop continues to the next item;</li>
<li>At the end of the loop, <code>Array.find()</code> returns the new array containing all the items that passed the test.</li>
</ul>
</li>
<li>The <code>.filter()</code> method operates very similarly to <code>.find()</code>, except that it returns an array instead of a single item.</li>
<li><code>.filter()</code> returns a <em>new</em> array, it does not modify the original array.</li>
</ul>
<h3>Activity</h3>
<p>Modify the List Entry endpoint of the <a href="https://github.com/sait-wbdv/in-class/tree/main/cpnt262/11-03-query-params-filter/06-starter-guild-poison-filter">Guild sample code</a> so that it can return a list of poisoned guild members.</p>
<hr>
<h2>Lab Time</h2>
<ul>
<li>Group assignments
<ul>
<li>Decide on a group name</li>
<li>Decide on a theme for your website</li>
</ul>
</li>
<li>Morning Activities</li>
<li>Stretch resources:
<ul>
<li><a href="https://www.taniarascia.com/rest-api-sorting-filtering-pagination/">REST API: Sorting, Filtering, and Pagination</a> by Tania Rascia</li>
<li><a href="https://www.javascripttutorial.net/array/javascript-sort-an-array-of-objects/">Sort an Array of Objects in JavaScript</a>
<ul>
<li>Reference: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code>Array.prototype.sort()</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>

  
</article>


<nav class="secondary">
    <ul>
        <li>
            
            <a href="/fall-2021/courses/cpnt262/day17/" title="CPNT 262 Day 17 - JSON 404 errors and local modules">Previous</a>
            
        </li>
        <li>
            
            <a href="/fall-2021/courses/cpnt262/day19/" title="CPNT 262 Day 19 - Mongoose and MongoDB Atlas">Next</a>
            
        </li>
    </ul>
</nav>

  </main>
  <footer>
    &copy; 2021 MIT License.
  </footer>
</div>
</body>
</html>
